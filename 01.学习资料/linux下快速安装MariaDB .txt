 linux下快速安装MariaDB 

http://my.oschina.net/myaniu/blog/145452
MariaDB 是 一个采用 Maria 存储引擎的  MySQL  分支版本，是由原来 MySQL 的作者 Michael Widenius 创办的公司所开发 的免费开源的数据库服务器 。 

本文介绍了在linxu下一个简单的安装 方法(在OpenSuse下测试成功)： 
下载页面： https://downloads.mariadb.org/mariadb/5.5.34/ 
# tar zxvf  mariadb-5.5.31-linux-x86_64.tar.gz   
# mv mariadb-5.5.31-linux-x86_64 /usr/local/mysql			（必需这样，很多脚本或可执行程序都会直接访问这个目录）
# groupadd mysql							增加 mysql 属组 
# useradd -g mysql mysql						增加 mysql 用户 并归于mysql 属组 
# chown mysql:mysql -Rf  /usr/local/mysql				设置 mysql 目录的用户及用户组归属。 
# chmod +x -Rf /usr/local/mysql						赐予可执行权限 
# cp /usr/local/mysql/support-files/my-medium.cnf /etc/my.cnf		复制默认mysql配置 文件到/etc 目录 
# cd /usr/local/mysql
# /usr/local/mysql/scripts/mysql_install_db --user=mysql		初始化数据 库 
# cp /usr/local/mysql/support-files/mysql.server    /etc/init.d/mysql	复制mysql服务程序 到系统 目录 
# chkconfig  mysql on							添加mysql 至系统服务并设置为开机启动 
# service  mysql  start							启动mysql
#vim /etc/profile							编辑profile,将mysql的可执行路径加入系统PATH
	export PATH=/usr/local/mysql/bin:$PATH 
#source /etc/profile							使PATH生效。
#ln -s /var/lib/mysql/mysql.sock /tmp/mysql.sock
#mysqladmin -u root password 'yourrootpassword'				设定root账号及密码
#mysql -uroot -p							使用root用户登录mysql
[none]>use mysql							切换至mysql数据库。
[mysql]>select user,host,password from user;				--查看系统权限
[mysql]>drop user ''@'localhost';					--删除不安全的账户
[mysql]>drop user root@'::1';
[mysql]>drop user root@127.0.0.1;
[mysql]>select user,host,password from user;				--再次查看系统权限，确保不安全的账户均被删除。
[mysql]>flush privileges;						--刷新权限
[mysql]>GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'mypassword' WITH GRANT OPTION	开启远程连接

1）修改字符集为UTF8
#vi /etc/my.cnf
在[client]下面添加 default-character-set = utf8
在[mysqld]下面添加 character_set_server = utf8
修改完重启：#service  mysql  restart 

2）增加错误日志
#vi /etc/my.cnf
在[mysqld]下面添加：
log-error = /usr/local/mysql/log/error.log
general-log-file = /usr/local/mysql/log/mysql.log
修改完重启：#service  mysql  restart 

3) 设置为不区分大小写，linux下默认会区分大小写。
#vi /etc/my.cnf
在[mysqld]下面添加：
lower_case_table_name=1
修改完重启：#service  mysql  restart 

4) 开启端口：
vi /etc/sysconfig/iptables
-A INPUT -m state Cstate NEW -m tcp -p tcp Cdport 3306 -j ACCEPT
=========================================================================================================================================
以上是转载的，适合天linux没使用systemctl之前的系统，下面是使用systemctl系统的安装方法。同时引用mariadb官方的安装方法。
https://mariadb.com/kb/en/mariadb/installing-mariadb-binary-tarballs/
这里只引用root安装的方法，因为这种方法最常用，其他的可以通过以上链接去学习


   groupadd mysql
    useradd -g mysql mysql
    cd /usr/local
    tar -zxvpf /path-to/mariadb-VERSION-OS.tar.gz
    ln -s mariadb-VERSION-OS mysql
    cd mysql
    ./scripts/mysql_install_db --user=mysql
    chown -R root .
    chgrp -R root .
    chown -R mysql data
    chgrp -R mysql data
   cp support-files/mysql.server /etc/init.d/mysql.server

在创建systemctl要用到的启动文件 /etc/systemd/system/mysql.service
[Unit]
Description=MySQL Server
After=network.target

[Service]
Type=forking
ExecStart=/etc/init.d/mysql.server start
ExecStop=/etc/init.d/mysql.server stop

[Install]
WantedBy=multi-user.target

#systemctl start mysql.service 命令就可以启动mysql了
systemctl可以查看这篇转载的，写得比较清晰。(查看)
=========================================================================================================================================




etl_xf_init.sh
mysql -h localhost -u root -p123456  < /home/mysql/xf_init.sql  >> /home/mysql/xf_init.log 2>&1
mysql -h localhost -u root -p123456 -D xfgl < /home/mysql/xf_data.sql >> /home/mysql/xf_init.log 2>&1

xf_init.sql
drop database if exists xfgl;
create database xfgl;

工 100000 - 100002
6222023500033207255